@prefix PR: <http://example.org/> .
@prefix VAR: <http://variable.org/> .
@prefix SOME: <http://some.org/> .

##################################################################
# facts

##################################################################
# rules
PR:rule_add_number_x_1_z
    PR:type PR:rule ;
    PR:left_side [
        PR:operation PR:add_number ;
        PR:variable_x VAR:_x ;
        PR:variable_y PR:one ;
        PR:variable_z VAR:_z ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:next_number ;
            PR:variable_x VAR:_x ;
            PR:variable_y VAR:_z ] ] .

PR:rule_add_number_x_y_z
    PR:type PR:rule ;
    PR:left_side [
        PR:operation PR:add_number ;
        PR:variable_x VAR:_x ;
        PR:variable_y VAR:_y ;
        PR:variable_z VAR:_z ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:next_number ;
            PR:variable_x VAR:_u ;
            PR:variable_y VAR:_y ] ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:add_number ;
            PR:variable_x VAR:_x ;
            PR:variable_y VAR:_u ;
            PR:variable_z VAR:_v ] ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:next_number ;
            PR:variable_x VAR:_v ;
            PR:variable_y VAR:_z ] ] .

##################################################################
# controls
PR:control_add_number_x_1_z
    PR:type PR:control ;
    PR:left_side [
        PR:operation PR:add_number ;
        PR:variable_x VAR:_x ;
        PR:variable_y PR:one ;
        PR:variable_z VAR:_z ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:next_number ;
            PR:variable_x VAR:_x ;
            PR:variable_y VAR:_z ] ] ;
    PR:priority "1" .

PR:control_add_number_x_y_z
    PR:type PR:control ;
    PR:left_side [
        PR:operation PR:add_number ;
        PR:variable_x VAR:_x ;
        PR:variable_y VAR:_y ;
        PR:variable_z VAR:_z ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:next_number ;
            PR:variable_x VAR:_u ;
            PR:variable_y VAR:_y ] ] ;
    PR:right_side [
        PR:priority "2" ;
        PR:child [
            PR:operation PR:add_number ;
            PR:variable_x VAR:_x ;
            PR:variable_y VAR:_u ;
            PR:variable_z VAR:_v ] ] ;
    PR:right_side [
        PR:priority "3" ;
        PR:child [
            PR:operation PR:next_number ;
            PR:variable_x VAR:_v ;
            PR:variable_y VAR:_z ] ] ;
    PR:priority "2" .

##################################################################
# applications

#PR:application_add_number_sx_sy_z
#   PR:type PR:application ;
#    PR:program PR:true ;
#    PR:pattern [
#        PR:operation PR:add_number ;
#       PR:variable_x SOME:_x ;
#       PR:variable_y SOME:_y ;
#        PR:variable_z VAR:_z ] ;
#    PR:use [
#        PR:control PR:control_add_number_x_1_z ;
#        PR:priority "1" ] ;
#   PR:use [
#        PR:control PR:control_add_number_x_y_z ;
#        PR:priority "2" ] ;
#    PR:priority "1".

PR:application_add_number_x_y_z
    PR:type PR:application ;
    PR:program PR:false ;
    PR:pattern [
        PR:operation PR:add_number ;
        PR:variable_x VAR:_x ;
        PR:variable_y VAR:_y ;
        PR:variable_z VAR:_z ] ;
    PR:use [
        PR:control PR:control_add_number_x_1_z ;
        PR:priority "1" ] ;
    PR:use [
        PR:control PR:control_add_number_x_y_z ;
        PR:priority "2" ] ;
    PR:priority "2" .

##################################################################
# inferences
#[]
#    PR:type PR:inference ;
#    PR:operation PR:add_number ;
#    PR:variable_x PR:two ;
#    PR:variable_y PR:three ;
#    PR:variable_z PR:five .
