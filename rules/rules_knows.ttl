@prefix PR: <http://example.org/> .
@prefix VAR: <http://variable.org/> .

##################################################################
# facts

PR:rule_knows_andy_bob
    PR:type PR:fact ;
    PR:operation PR:knows_direct ;
    PR:variable_x PR:andy ;
    PR:variable_y PR:bob .
PR:rule_knows_bob_chris
    PR:type PR:fact ;
    PR:operation PR:knows_direct ;
    PR:variable_x PR:bob ;
    PR:variable_y PR:chris .
PR:rule_knows_andy_david
    PR:type PR:fact ;
    PR:operation PR:knows_direct ;
    PR:variable_x PR:andy ;
    PR:variable_y PR:david .
PR:rule_knows_david_edgar
    PR:type PR:fact ;
    PR:operation PR:knows_direct ;
    PR:variable_x PR:david ;
    PR:variable_y PR:edgar .

##################################################################
# rules

PR:rule_knows
    PR:type PR:rule ;
    PR:left_side [
        PR:operation PR:knows ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:knows_indirect ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:y ] ] .

PR:rule_knows_indirect1
    PR:type PR:rule ;
    PR:left_side [
        PR:operation PR:knows_indirect ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:knows_direct ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:y ] ] .

PR:rule_knows_indirect2
    PR:type PR:rule ;
    PR:left_side [
        PR:operation PR:knows_indirect ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:knows_direct ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:u ] ] ;
    PR:right_side [
        PR:child [
            PR:operation PR:knows_indirect ;
            PR:variable_x VAR:u ;
            PR:variable_y VAR:y ] ] .

##################################################################
# controls

PR:control_knows
    PR:type PR:control ;
    PR:left_side [
        PR:operation PR:knows ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:knows_indirect ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:y ] ] .

PR:control_knows_indirect1
    PR:type PR:control ;
    PR:left_side [
        PR:operation PR:knows_indirect ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:knows_direct ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:y ] ] .

PR:control_knows_indirect2
    PR:type PR:control ;
    PR:left_side [
        PR:operation PR:knows_indirect ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:knows_direct ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:u ] ] ;
    PR:right_side [
        PR:priority "2" ;
        PR:child [
            PR:operation PR:knows_indirect ;
            PR:variable_x VAR:u ;
            PR:variable_y VAR:y ] ] .

##################################################################
# applications

PR:application_knows_x_y
    PR:type PR:application ;
    PR:program PR:false ;
    PR:pattern [
        PR:operation PR:knows ;
        PR:variable_x VAR:_x ;
        PR:variable_y VAR:_y ] ;
    PR:use [
        PR:control PR:control_knows ;
        PR:priority "1" ] ;
    PR:priority "1" .

PR:application_knows_direct_x_y
    PR:type PR:application ;
    PR:program PR:false ;
    PR:pattern [
        PR:operation PR:knows_indirect ;
        PR:variable_x VAR:_x ;
        PR:variable_y VAR:_y ] ;
    PR:use [
        PR:control PR:control_knows_indirect1 ;
        PR:priority "1" ] ;
    PR:use [
        PR:control PR:control_knows_indirect2 ;
        PR:priority "2" ] ;
    PR:priority "1" .

##################################################################
# inferences
