@prefix PR: <http://example.org/> .
@prefix VAR: <http://variable.org/> .

# facts
PR:fact_father_jiro_taro
    PR:operation PR:father ;
    PR:variable_x PR:taro ;
    PR:variable_y PR:jiro .
PR:fact_mother_jiro_hana
    PR:operation PR:mother ;
    PR:variable_x PR:taro ;
    PR:variable_y PR:hana .
PR:fact_father_hana_ichiro
    PR:operation PR:father ;
    PR:variable_x PR:hana ;
    PR:variable_y PR:ichiro .

# rules
PR:grandfather_father_father
    PR:left_side [
        PR:operation PR:grandfather ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:father ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:u ] ] ;
    PR:right_side [
        PR:priority "2" ;
        PR:child [
             PR:operation PR:father ;
             PR:variable_x VAR:u ;
             PR:variable_y VAR:y ] ] .

PR:grandfather_mother_father
    PR:left_side [
        PR:operation PR:grandfather ;
        PR:variable_x VAR:x ;
        PR:variable_y VAR:y ] ;
    PR:right_side [
        PR:priority "1" ;
        PR:child [
            PR:operation PR:mother ;
            PR:variable_x VAR:x ;
            PR:variable_y VAR:u ] ] ;
    PR:right_side [
        PR:priority "2" ;
        PR:child [
            PR:operation PR:father ;
            PR:variable_x VAR:u ;
            PR:variable_y VAR:y ] ] .

# procedures
PR:grandfather_father_father
    PR:priority "1" .

PR:grandfather_mother_father
    PR:priority "2" .